# 浮点数错误

0.1 + 0.2 = 0.3 0000 0000 0000 0004 ??? or
0.1 + 0.2 = 0.3 0000 0004 ???

![](images/float1.png)

* 二进制无法在有限度的长度中精确地表示十进制中的0.1和0.2；
* 单精度浮点数、双精度浮点数的位数决定了它们能够表示的精度上限。

![](images/float3.png "单精度和双精度的位数表示")

![](images/float4.png)

十进制转浮点:

```
1、首先，十进制转二进制：
整数部分 除二余数倒写：
12： 12/2=6 余0 ；6/2=3 余0 ；3/2=1 余1 ；1/2=0 余1
倒写 也就是：1100
小数部分 乘二取整顺写：
0.5： 0.5×2=1.0
取整 也就是：1
12.5的二进制：1100.1
2、然后将二进制转化为浮点数：
由于12.5为正数，所以符号位为0；
1100.1=1.1001×2^3 指数为3 ，
则 阶码=3+127=130 ，即：10000010
余下的小数位为二进制小数点后面的数字，即10010000000000000000000
合起来便是：01000001 01001000 00000000 00000000
```